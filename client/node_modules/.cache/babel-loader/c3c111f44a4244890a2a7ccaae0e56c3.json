{"ast":null,"code":"import _toConsumableArray from \"/Users/marisherrera/Sites/7_week/homework/rails_blog/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nvar BLOGS = 'BLOGS';\nvar ADD_BLOG = 'ADD_BLOG';\nvar UPDATE_BLOG = 'UPDATE_BLOG';\nvar DELETE_BLOG = 'DELETE_BLOG';\nexport var getBlogs = function getBlogs(cb) {\n  return function (dispatch) {\n    axios.get('/api/blogs').then(function (res) {\n      return dispatch({\n        type: BLOGS,\n        blogs: res.data\n      });\n    }).then(cb());\n  }; //help cb\n};\nexport var addBlog = function addBlog(blog) {\n  return function (dispatch) {\n    axios.post('/api/blogs', {\n      blog: blog\n    }).then(function (res) {\n      return dispatch({\n        type: ADD_BLOG,\n        blog: res.data\n      });\n    });\n  };\n};\nexport var updateBlog = function updateBlog(blog) {\n  return function (dispatch) {\n    axios.put(\"/api/blogs/\".concat(blog.id), {\n      blog: blog\n    }).then(function (res) {\n      return dispatch({\n        type: UPDATE_BLOG,\n        blog: res.data\n      });\n    });\n  };\n};\nexport var deleteBlog = function deleteBlog(id) {\n  return function (dispatch) {\n    axios.delete(\"api/blogs/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: DELETE_BLOG,\n        id: id\n      });\n    });\n  };\n}; // const blogs = //help\n\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case BLOGS:\n      return action.blogs;\n\n    case ADD_BLOG:\n      return [action.blog].concat(_toConsumableArray(state));\n\n    case UPDATE_BLOG:\n      return state.map(function (b) {\n        if (b.id === action.blog.id) return action.blog;\n        return b;\n      });\n\n    case DELETE_BLOG:\n      return state.filter(function (b) {\n        return b.id !== action.id;\n      });\n\n    default:\n      return state;\n  }\n}); // case TOGGLE_BLOG:\n//   return state.map( blog => {\n//     if (blog.id === action.id)\n//       return {...blog, complete: !blog.complete}\n//     return blog\n//   })","map":{"version":3,"sources":["/Users/marisherrera/Sites/7_week/homework/rails_blog/client/src/reducers/blogs.js"],"names":["axios","BLOGS","ADD_BLOG","UPDATE_BLOG","DELETE_BLOG","getBlogs","cb","dispatch","get","then","res","type","blogs","data","addBlog","blog","post","updateBlog","put","id","deleteBlog","delete","state","action","map","b","filter"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,GAAG,OAAd;AACA,IAAMC,QAAQ,GAAG,UAAjB;AACA,IAAMC,WAAW,GAAG,aAApB;AACA,IAAMC,WAAW,GAAG,aAApB;AAEA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,EAAD,EAAQ;AAC9B,SAAO,UAACC,QAAD,EAAc;AACnBP,IAAAA,KAAK,CAACQ,GAAN,CAAU,YAAV,EACCC,IADD,CACO,UAAAC,GAAG;AAAA,aAAIH,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEV,KAAR;AAAeW,QAAAA,KAAK,EAAEF,GAAG,CAACG;AAA1B,OAAD,CAAZ;AAAA,KADV,EAECJ,IAFD,CAEOH,EAAE,EAFT;AAGD,GAJD,CAD8B,CAM9B;AACD,CAPM;AASP,OAAO,IAAMQ,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAU;AAC/B,SAAO,UAACR,QAAD,EAAc;AACnBP,IAAAA,KAAK,CAACgB,IAAN,CAAW,YAAX,EAAyB;AAAED,MAAAA,IAAI,EAAJA;AAAF,KAAzB,EACCN,IADD,CACO,UAAAC,GAAG;AAAA,aAAIH,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAET,QAAR;AAAkBa,QAAAA,IAAI,EAAEL,GAAG,CAACG;AAA5B,OAAD,CAAZ;AAAA,KADV;AAED,GAHD;AAID,CALM;AAOP,OAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACF,IAAD,EAAU;AAClC,SAAO,UAACR,QAAD,EAAc;AACnBP,IAAAA,KAAK,CAACkB,GAAN,sBAAwBH,IAAI,CAACI,EAA7B,GAAmC;AAAEJ,MAAAA,IAAI,EAAJA;AAAF,KAAnC,EACCN,IADD,CACO,UAAAC,GAAG;AAAA,aAAIH,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAER,WAAR;AAAqBY,QAAAA,IAAI,EAAEL,GAAG,CAACG;AAA/B,OAAD,CAAZ;AAAA,KADV;AAED,GAHD;AAID,CALM;AAOP,OAAO,IAAMO,UAAU,GAAG,SAAbA,UAAa,CAACD,EAAD,EAAQ;AAChC,SAAO,UAACZ,QAAD,EAAc;AACnBP,IAAAA,KAAK,CAACqB,MAAN,qBAA0BF,EAA1B,GACCV,IADD,CACO,UAAAC,GAAG;AAAA,aAAIH,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEP,WAAR;AAAqBe,QAAAA,EAAE,EAAFA;AAArB,OAAD,CAAZ;AAAA,KADV;AAED,GAHD;AAID,CALM,C,CAOP;;AACA,gBAAe,YAAwB;AAAA,MAAvBG,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AACrC,UAAOA,MAAM,CAACZ,IAAd;AACE,SAAKV,KAAL;AACE,aAAOsB,MAAM,CAACX,KAAd;;AACF,SAAKV,QAAL;AACE,cAAQqB,MAAM,CAACR,IAAf,4BAAwBO,KAAxB;;AACF,SAAKnB,WAAL;AACE,aAAOmB,KAAK,CAACE,GAAN,CAAW,UAAAC,CAAC,EAAI;AACrB,YAAIA,CAAC,CAACN,EAAF,KAASI,MAAM,CAACR,IAAP,CAAYI,EAAzB,EACA,OAAOI,MAAM,CAACR,IAAd;AACA,eAAOU,CAAP;AACD,OAJM,CAAP;;AAKF,SAAKrB,WAAL;AACE,aAAOkB,KAAK,CAACI,MAAN,CAAc,UAAAD,CAAC;AAAA,eAAIA,CAAC,CAACN,EAAF,KAASI,MAAM,CAACJ,EAApB;AAAA,OAAf,CAAP;;AACF;AACE,aAAOG,KAAP;AAdJ;AAgBD,CAjBD,E,CAsBE;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\n\nconst BLOGS = 'BLOGS';\nconst ADD_BLOG = 'ADD_BLOG';\nconst UPDATE_BLOG = 'UPDATE_BLOG';\nconst DELETE_BLOG = 'DELETE_BLOG';\n\nexport const getBlogs = (cb) => {\n  return (dispatch) => {\n    axios.get('/api/blogs')\n    .then( res => dispatch({ type: BLOGS, blogs: res.data }) )\n    .then( cb() )\n  }\n  //help cb\n}\n\nexport const addBlog = (blog) => {\n  return (dispatch) => {\n    axios.post('/api/blogs', { blog } )\n    .then( res => dispatch({ type: ADD_BLOG, blog: res.data }))\n  }\n}\n\nexport const updateBlog = (blog) => {\n  return (dispatch) => {\n    axios.put(`/api/blogs/${blog.id}`, { blog } )\n    .then( res => dispatch({ type: UPDATE_BLOG, blog: res.data }) )\n  }\n}\n\nexport const deleteBlog = (id) => {\n  return (dispatch) => {\n    axios.delete(`api/blogs/${id}`)\n    .then( res => dispatch({ type: DELETE_BLOG, id}))\n  }\n}\n\n// const blogs = //help\nexport default (state = [], action) => {\n  switch(action.type) {\n    case BLOGS:\n      return action.blogs\n    case ADD_BLOG:\n      return [action.blog, ...state]\n    case UPDATE_BLOG:\n      return state.map( b => {\n        if (b.id === action.blog.id)\n        return action.blog\n        return b\n      })\n    case DELETE_BLOG:\n      return state.filter( b => b.id !== action.id )\n    default:\n      return state;\n  }\n}\n\n\n\n\n  // case TOGGLE_BLOG:\n  //   return state.map( blog => {\n  //     if (blog.id === action.id)\n  //       return {...blog, complete: !blog.complete}\n  //     return blog\n  //   })"]},"metadata":{},"sourceType":"module"}